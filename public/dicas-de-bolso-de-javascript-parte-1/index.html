<!DOCTYPE html>
<html>
<head>
	<title>Sejedev - "Seje" dev, não seja sobrinho!</title>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

	<link rel="stylesheet" type="text/css" href="http://localhost/jhonny-roger/public/css/style.min.css?1500245845">
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
	    google_ad_client: "ca-pub-9403183739906461",
	    enable_page_level_ads: true
	  });
	</script>
</head>
<body>
	<header id="sd-header">
		<a href="http://localhost/jhonny-roger/public/" id="sd-logo">Sejedev</a>
		<nav id="sd-nav-menu">
			<ul>
				<li><a href="http://localhost/jhonny-roger/public/categories/nodejs">Artigos</a></li>
				<li><a href="http://localhost/jhonny-roger/public/categories/jquery">Noticias</a></li>
				<li><a href="http://localhost/jhonny-roger/public/categories/jquery">Projetos</a></li>
				<li><a href="http://localhost/jhonny-roger/public/categories/jquery">Colabore</a></li>
			</ul>
		</nav>
		<form action="#" id="sd-search-form">
			<input type="search" name="search" placeholder="Faça a sua busca!">
		</form>
	</header>
<section id="sd-main-post">
    
    <h1>
        <a href="/jhonny-roger/public/frontend-week/">
            Front-end Week
        </a>
    </h1>
    <p class="sd-main-excerpt">
         Uma overdose de eventos e palestras sobre front-end em uma semana. 
    </p>
    <p class="sd-main-author">
        por <a href="/jhonny-roger/public/author/diego-eis">Diego Eis"</a>27/06/2017
    </p>
    
</section>



<div class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<h1 id="javascript-e-suas-pegadinhas"> JavaScript e suas pegadinhas</h1>

<p>JavaScript é uma linguagem bem legal mas cheia de <em>pegadinhas</em>. A idéia desse post é documentar alguma dessas pegadinhas, para que possamos evitar dores de cabeça principalmente à galera que ainda não se deparou com alguma delas.</p>

<h2 id="guarde-o-tamanho-do-array">Guarde o tamanho do array</h2>

<p>No JavaScript temos nossos brothers loops <code>for</code>, que conseguem iterar em arrays ou também em objetos semelhantes a arrays. Semelhantes? Como assim!? Por exemplo os objetos <code>arguments</code> e <code>HTMLCollection</code>. Provavelmente você já deve ter se deparado com um loop <code>for</code> (já deve ter escrito alguns):</p>

<pre class="lang-js">for(var i = 0; i &lt; arrayFabeni.length; i++) {
    // magic
}
</pre>

<p>De bate pronto, conseguimos perceber algo não tão bacana no código acima. O comprimento (<code>length</code>) do array é acessado em toda iteração do loop. Isso não fica tão legal quando por exemplo, o objeto é um <code>HTMLCollection</code>. Lembra o que são esses caras? Eles que são retornados quando a gente chama:</p>

<ul>
<li><code>getElementsByName()</code></li>
<li><code>getElementsByClassName()</code></li>
<li><code>getElementsByTagName()</code></li>
</ul>

<p>Tá! Legal! Mas eaí né?! A zica mesmo é que toda vez que a gente itera sobre esses caras significa que estamos consultando o nosso <em>DOM</em> ao vivo e a cores, e a *toda hora*, o que não é nada bacana.</p>

<p>Com base nisso, uma solução que podemos chegar seria <em>guardarmos</em> o comprimento do array; algo parecido com isso:</p>

<pre class="lang-js">for(var i = 0, max = arrayFabeni.length;  i &lt; max; i++) {
    // magic
}
</pre>

<p>O que fizemos acima foi armazenar o valor da propriedade <code>length</code>, evitando assim ter que calculá-la a cada iteração do loop.</p>

<h2 id="verifique-se-a-propriedade-pertence-àquele-objeto">Verifique se a propriedade pertence àquele objeto</h2>

<p>Além do nosso amigo do exemplo anterior, no JavaScript temos o loop <code>for-in</code> que usamos pra iterar em objetos. Uma coisa bacana de se fazer e que pode evitar que algo que você não queira aconteça, é usar o método <code>hasOwnProperty()</code>. Esse método simplesmente vai filtrar apenas as propriedades do objeto em si, excluindo as propriedades herdadas pelo <code>prototype</code>.</p>

<p>Um exemplo rápido:</p>

<pre class="lang-js">var burger = {
    queijo: 'cheddar',
    pao: 'integral',
    hamburguer: 'picanha',
    molho: 'barbecue'
};
</pre>

<p>Aí em uma parte obscura, aparece algo que adiciona uma propriedade a todos os objetos.</p>

<pre class="lang-js">if(!Object.prototype.feijao) {
  Object.prototype.feijao = 'preto';
}
</pre>

<p>O que aconteceu acima foi que verificamos se existe a propriedade <code>feijao</code> em <code>Object</code> e, caso ela não exista definimos ela com o valor <code>preto</code>. Aí que está o negócio <del>da coisa</del> do JavaScript, nosso objeto <code>burger</code>, já herda a propriedade <code>feijao</code> via <code>prototype</code>.</p>

<p>Com isso, para evitarmos que <code>feijao</code> apareça quando listarmos as propriedades de <code>burger</code> (até porque feijão, na minha opinião, não combina muito com hamburguer), fazemos o seguinte:</p>

<pre class="lang-js">for(var i in burger) {
  if(burger.hasOwnProperty(i)) {
     console.log(i + ' =&gt; ' + burger[i]);
  }
}

// Resultará no seguinte:
// queijo =&gt; cheddar
// pao =&gt; integral
// hamburguer =&gt; picanha
// molho =&gt; barbecue
</pre>

<p>Do contrário, caso não fizéssemos essa verificação, teríamos algo assim:</p>

<pre class="lang-js">for(var i in burger) {
    console.log(i + ' =&gt; ' + burger[i]);
}

// Resultará no seguinte:
// queijo =&gt; cheddar
// pao =&gt; integral
// hamburguer =&gt; picanha
// molho =&gt; barbecue
// feijao =&gt; preto
</pre>

<hr />

<p>Era isso! Dicas rápidas sobre a linguagem, que para alguns podem ser básicas, mas que muita gente ainda pode não conhecer e, que podem evitar alguns problemas no futuro.</p>

<p>Referências</p>

<p><a href="http://www.amazon.com/Learning-JavaScript-Edition-Shelley-Powers/dp/0596521871" target="_blank">Learning JavaScript</a> | <a href="http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742" target="_blank">JavaScript: The Good Parts</a> | <a href="http://shop.oreilly.com/product/0636920011460.do" target="_blank">JavaScript: Pocket Reference</a> | <a href="http://shop.oreilly.com/product/9780596806767.do" target="_blank">JavaScript Patterns</a></p>

    </article>

    <div class="tb-related-posts">
      <h3>Leia mais:</h3>
      <ul>
        
        <li class="tb-related-post">
          <a href="/jhonny-roger/public/indo-alem-no-react-native//?utm_source=tablelessRelatedLin">Indo além no Mundo React-Native</a><br />
        </li>

        
        <li class="tb-related-post">
          <a href="/jhonny-roger/public/velocidade-tableless-estatico//?utm_source=tablelessRelatedLin">Performance do Tableless estático</a><br />
        </li>

        
        <li class="tb-related-post">
          <a href="/jhonny-roger/public/seu-primeiro-bot-para-o-telegram//?utm_source=tablelessRelatedLin">Seu primeiro bot para o Telegram</a><br />
        </li>

        
      </ul>
    </div>

  </section>
</div>

<footer id="sd-footer">
</footer>

<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script type="text/javascript" src="http://localhost/jhonny-roger/public/js/main.js?1500245845"></script>